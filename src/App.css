@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@500;700&display=swap');

:root {
  /* Light Mode Defaults */
  --navy-blue: #001f3f;
  --body-bg: #efefef;
  --section-bg: #ffffff;
  --text-main: #333333;
}

[data-bs-theme="dark"] {
  /* Dark Mode Overrides */
  --navy-blue: #003366; /* Slightly lighter navy for contrast on dark */
  --body-bg: #121212;   /* Very dark grey for background */
  --section-bg: #1e1e1e; /* Dark grey for "white" sections */
  --text-main: #f8f9fa;
}

html, body {
  overflow-x: hidden;
  width: 100%;
}

body {
  background-color: var(--body-bg);
  color: var(--text-main);
  transition: background-color 0.3s, color 0.3s; /* Smooth transition */
}

/* Update utilities to use variables */
.bg-navy {
  background-color: var(--navy-blue) !important;
  color: #fff;
}

.text-navy {
  color: var(--navy-blue) !important;
}

/* Ensure sections like "About" switch backgrounds properly */
section.bg-white {
  background-color: var(--section-bg) !important;
  color: var(--text-main);
}

.card-custom {
  /* Bootstrap handles card backgrounds automatically in dark mode, 
     but we add a transition for smoothness */
  transition: transform 0.2s, background-color 0.3s;
  overflow-x: hidden;
}

/* Global section overflow safety */
section {
  overflow-x: hidden;
}

/* --- NAVBAR TRANSITIONS --- */
.navbar-custom {
  transition: all 0.4s ease-in-out;
  padding: 1.5rem 0; /* Taller padding at the top */
}

/* State 1: At the top (Transparent) */
.navbar-transparent {
  background-color: transparent !important;
  box-shadow: none;
}

/* State 2: Scrolled (Solid) */
.navbar-scrolled {
  background-color: var(--navy-blue) !important; /* Solid Navy */
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  padding: 0.8rem 0; /* Shrink padding slightly when scrolled */
}

/* --- TYPOGRAPHY ANIMATIONS --- */
.animate-fade-up {
  animation: fadeUp 1s ease-out forwards;
  opacity: 0;
  transform: translateY(30px);
}

.delay-100 { animation-delay: 0.2s; }
.delay-200 { animation-delay: 0.4s; }
.delay-300 { animation-delay: 0.6s; }

@keyframes fadeUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Social Icon Hover Effect */
.hover-warning {
  transition: color 0.3s ease;
}
.hover-warning:hover {
  color: #FFD700 !important; /* Gold/Yellow */
}

/* Fix for dark mode text on icons/buttons */
[data-bs-theme="dark"] .text-dark {
  color: #f8f9fa !important; /* Turn dark text white in dark mode */
}
[data-bs-theme="dark"] .btn-outline-dark {
  color: #f8f9fa;
  border-color: #f8f9fa;
}
[data-bs-theme="dark"] .btn-outline-dark:hover {
  color: #000;
  background-color: #f8f9fa;
}

/* Filter Button Active State */
.btn.bg-navy {
  background-color: var(--navy-blue) !important;
  color: white !important;
}
.btn-outline-navy {
  color: var(--navy-blue);
  border-color: var(--navy-blue);
}
.btn-outline-navy:hover {
  background-color: var(--navy-blue);
  color: white;
}

/* Service Card Hover Effect */
.hover-scale {
  transition: transform 0.3s ease, background-color 0.3s ease;
}

.hover-scale:hover {
  transform: translateY(-5px);
  background-color: rgba(255, 255, 255, 0.15) !important; /* Slightly lighter on hover */
}

/* Form Input Focus Color */
.form-control:focus {
  box-shadow: none;
  border: 1px solid var(--navy-blue) !important;
}

/* Specific hover color for Substack */
.hover-warning:hover .si-substack {
    color: #FF6719 !important; /* Substack Orange */
}

/* Substack Button Hover */
.newsletter-btn:hover {
  background-color: #e55b14 !important; /* Slightly darker orange */
  border-color: #e55b14 !important;
  transform: translateY(-2px); /* Subtle lift */
  transition: all 0.2s ease-in-out;
}

/* --- CHATBOT STYLES --- */

/* 1. Floating Action Button */
.chatbot-fab {
  position: fixed;
  bottom: 30px;
  right: 20px;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background-color: var(--navy-blue) !important;
  border: 2px solid #FFD700 !important; /* Gold border */
  z-index: 9999;
  transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.chatbot-fab:hover {
  transform: scale(1.1);
}

/* 2. Chat Window Container */
.chatbot-window {
  position: fixed;
  bottom: 100px; /* Sits above the button */
  right: 15px;
  width: 350px;
  height: 450px;
  z-index: 9999;
  max-width: calc(100vw - 30px);
  
  /* Animation State: Hidden */
  opacity: 0;
  transform: translateY(20px) scale(0.95);
  pointer-events: none; /* Click through when hidden */
  transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
}

/* Animation State: Open */
.chatbot-window.open {
  opacity: 1;
  transform: translateY(0) scale(1);
  pointer-events: all;
}

/* 3. Enhanced Header Styles */
.chatbot-header {
  background: linear-gradient(135deg, var(--navy-blue) 0%, #001a70 50%, #001a4d 100%);
  color: white;
  border-bottom: 2px solid rgba(255, 215, 0, 0.3);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  position: relative;
  overflow: hidden;
}

.chatbot-header::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255, 215, 0, 0.1) 0%, transparent 70%);
  animation: headerGlow 3s ease-in-out infinite;
}

@keyframes headerGlow {
  0%, 100% { transform: translate(0, 0); opacity: 0.3; }
  50% { transform: translate(10px, 10px); opacity: 0.6; }
}

.chatbot-avatar-wrapper {
  position: relative;
  display: inline-block;
}

.chatbot-avatar {
  width: 45px;
  height: 45px;
  background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--navy-blue);
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
  animation: avatarPulse 2s ease-in-out infinite;
}

@keyframes avatarPulse {
  0%, 100% { transform: scale(1); box-shadow: 0 0 20px rgba(255, 215, 0, 0.4); }
  50% { transform: scale(1.05); box-shadow: 0 0 25px rgba(255, 215, 0, 0.6); }
}

.chatbot-status-indicator {
  position: absolute;
  bottom: 2px;
  right: 2px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  border: 2px solid var(--navy-blue);
}

.chatbot-status-indicator.connected {
  background-color: #00ff00;
  box-shadow: 0 0 8px rgba(0, 255, 0, 0.6);
  animation: statusPulse 2s ease-in-out infinite;
}

.chatbot-status-indicator.disconnected {
  background-color: #ff6b6b;
}

@keyframes statusPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

.chatbot-header-title {
  font-size: 1.1rem;
  color: white;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  letter-spacing: 0.5px;
}

.chatbot-header-subtitle {
  font-size: 0.75rem;
  color: rgba(255, 255, 255, 0.8);
  display: block;
  margin-top: 2px;
}

.chatbot-close-btn {
  opacity: 0.7;
  transition: all 0.3s ease;
}

.chatbot-close-btn:hover {
  opacity: 1;
  transform: rotate(90deg);
}

/* 4. Message Bubbles Helper */
.rounded-bottom-right-0 {
  border-bottom-right-radius: 0 !important;
}
.rounded-bottom-left-0 {
  border-bottom-left-radius: 0 !important;
}

/* 5. Mobile Responsiveness */
@media (max-width: 576px) {
  .chatbot-fab {
    right: 15px;
    bottom: 25px;
  }
  
  .chatbot-window {
    width: calc(100vw - 40px);
    right: 20px;
    bottom: 95px;
  }
}

/* src/App.css */

/* FIX: In Dark Mode, make 'bg-light' elements dark gray */
[data-bs-theme="dark"] .bg-light {
  background-color: #112240 !important; /* A nice dark navy/gray */
  color: #e6f1ff !important;
}

/* FIX: In Dark Mode, make 'outline-dark' buttons visible (light border/text) */
[data-bs-theme="dark"] .btn-outline-dark {
  color: #f8f9fa;
  border-color: #f8f9fa;
}
[data-bs-theme="dark"] .btn-outline-dark:hover {
  background-color: #f8f9fa;
  color: #000;
}

/* FIX: Form Inputs in Dark Mode */
[data-bs-theme="dark"] .form-control {
  background-color: #112240; /* Match the section background */
  border-color: #233554;
  color: white;
}
[data-bs-theme="dark"] .form-control::placeholder {
  color: #8892b0;
}

/* Custom Theme Switch Styling */
.theme-switch-custom .form-check-input {
  width: 3em; /* Make it slightly wider */
  height: 1.5em;
  background-color: transparent;
  border: 2px solid rgba(255, 255, 255, 0.5);
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e"); /* White knob default */
  cursor: pointer;
}

/* When checked (Light Mode) - Make knob Gold */
.theme-switch-custom .form-check-input:checked {
  background-color: var(--navy-blue);
  border-color: #FFD700;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23FFD700'/%3e%3c/svg%3e");
}

/* When unchecked (Dark Mode) - Make knob White/Gray */
.theme-switch-custom .form-check-input:focus {
  box-shadow: none; /* Remove blue glow */
  border-color: #FFD700;
}

/* --- CHATBOT DARK MODE FIXES --- */

/* 1. Main Chat Window Background */
[data-bs-theme="dark"] .chatbot-window .card {
  background-color: var(--navy-blue);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Enhanced Header Dark Mode */
[data-bs-theme="dark"] .chatbot-header {
  background: linear-gradient(135deg, #0a1628 0%, #0f2744 50%, #142d4c 100%);
  border-bottom: 2px solid rgba(255, 215, 0, 0.4);
}

/* 2. Chat History Area (The scrollable part) */
[data-bs-theme="dark"] .chat-body {
  background-color: #0b1a2e !important; /* Very dark navy (almost black) */
}

/* 3. The BOT'S Message Bubble */
/* We override 'bg-white' only inside the chatbot when in dark mode */
[data-bs-theme="dark"] .chatbot-window .bg-white {
  background-color: #1e3a5f !important; /* Lighter Navy for contrast */
  color: #ffffff !important;             /* White text */
  border-color: #2c4a7c !important;      /* Subtle border */
}

/* 4. The Footer (Input Area) */
[data-bs-theme="dark"] .chatbot-window .card-footer {
  background-color: var(--navy-blue) !important;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* 5. The Input Field itself */
[data-bs-theme="dark"] .chatbot-window .form-control {
  background-color: #0b1a2e !important;
  color: white !important;
}

/* --- ANIMATED METRIC CIRCLES --- */

/* 1. The Container holding SVG and Text together */
.metric-circle-container {
  position: relative;
  width: 130px;
  height: 130px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* 2. The Text Content centered absolutely */
.metric-content {
  position: absolute;
  z-index: 2;
  /* Ensure text colors match theme */
  color: var(--navy-blue);
}

/* 3. The SVG Canvas */
.metric-svg {
  position: absolute;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  transform: rotate(-90deg); /* Start animation at the top center */
}

/* 4. The Static Background Ring (Gray track) */
.metric-track {
  fill: none;
  stroke: #e9ecef; /* Light gray in light mode */
  stroke-width: 4;
}

/* 5. The Animated "Spinning" Ring (Gold) */
.metric-spinner {
  fill: none;
  stroke: #FFD700; /* Gold */
  stroke-width: 4;
  stroke-linecap: round; /* Makes the ends of the line rounded */
  /* Mathematics of the dasharray:
     Circumference C = 2 * pi * r. Here r=54, so C â‰ˆ 339px.
     We create a dash of 100px, followed by a gap of 240px.
  */
  stroke-dasharray: 100 240;
  transform-origin: center;
  animation: spinMetric 3s linear infinite; /* Continuous rotation */
}

/* --- DARK MODE ADAPTATIONS --- */
[data-bs-theme="dark"] .metric-track {
  stroke: rgba(255, 255, 255, 0.08); /* Very subtle track in dark mode */
  fill: var(--navy-blue); /* Fills the center of the circle with Navy */
}

[data-bs-theme="dark"] .metric-content h3 {
  color: #FFD700 !important; /* Gold numbers in dark mode */
}

[data-bs-theme="dark"] .metric-content small {
  color: rgba(255, 255, 255, 0.7) !important; /* Lighter text labels */
}


/* --- KEYFRAME ANIMATION --- */
@keyframes spinMetric {
  from {
    stroke-dashoffset: 0;
    transform: rotate(0deg);
  }
  to {
     /* We rotate the whole circle 360deg to create the spin */
    stroke-dashoffset: -340; /* Shifts the dash pattern for flow effect */
    transform: rotate(360deg);
  }
}

/* --- LOGO STYLES --- */

/* Light Mode Defaults */
.brand-logo {
  color: var(--navy-blue); /* The lines and text will be Navy */
}

/* Dark Mode Adaptations */
[data-bs-theme="dark"] .brand-logo {
  color: #ffffff; /* The lines and text turn White */
}

/* Optional: subtle pulse animation on the gold nodes */
.logo-node {
    animation: pulseGold 3s infinite ease-in-out;
}

@keyframes pulseGold {
    0%, 100% { opacity: 1; r: 5; }
    50% { opacity: 0.8; r: 6; } /* Subtle grow effect */
}

/* --- LOGO ANIMATION STYLES --- */

/* 1. The Line "Drawing" Animation */
.logo-path {
  /* This creates a dashed line where the dash is longer than the path itself */
  stroke-dasharray: 200; 
  stroke-dashoffset: 200; /* Hides the line initially */
  animation: drawLine 2s ease-out forwards;
}

/* 2. The Nodes "Pulse" Animation */
.logo-node {
  /* Apply the animation loop */
  animation: nodePulse 2s ease-in-out infinite;
  transform-origin: center; /* Ensures they scale from their own center */
  transform-box: fill-box;
}

/* 3. Staggering the Pulse (The "Data Flow" effect) */
/* Node 1 pulses first, then 2, then 3 */
#node-1 { animation-delay: 1.0s; } /* Starts after line finishes drawing */
#node-2 { animation-delay: 1.4s; }
#node-3 { animation-delay: 1.8s; }

/* --- KEYFRAMES --- */

/* Draws the line from left to right */
@keyframes drawLine {
  to {
    stroke-dashoffset: 0;
  }
}

/* Makes the nodes grow and glow */
@keyframes nodePulse {
  0%, 100% {
    transform: scale(1);
    filter: none;
  }
  50% {
    transform: scale(1.3); /* Pop up */
    filter: url(#glow);    /* Activate the SVG glow filter */
  }
}

/* Optional: Dark Mode Support */
[data-bs-theme="dark"] .brand-logo {
  color: #ffffff;
}
[data-bs-theme="light"] .brand-logo {
  color: var(--navy-blue);
}

/* Hero rotating title */
.hero-rotating-title {
  font-family: 'Fira Code', 'SFMono-Regular', Menlo, Consolas, monospace;
  min-height: 1.8em; /* reserve space to avoid layout shift */
  letter-spacing: 0.02em;
}

.title-slide {
  display: inline-block;
  animation: slideFade 1s ease-in-out;
  text-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
}

@keyframes slideFade {
  0% { opacity: 0; transform: translateY(14px) scale(0.98); filter: blur(6px); }
  45% { opacity: 1; transform: translateY(0) scale(1.02); filter: blur(0); }
  100% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
}
/* Hero Buttons Responsive */
.hero-buttons {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 1rem;
}

.hero-buttons .btn {
  flex: 1;
  min-width: 150px;
  max-width: 250px;
}

@media (max-width: 576px) {
  .hero-buttons {
    flex-direction: column;
    gap: 1rem;
  }

  .hero-buttons .btn {
    width: 100%;
    max-width: 100%;
  }
}

/* About Section Image Centering */
.profile-img-container {
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 0 auto;
}

@media (max-width: 768px) {
  .profile-img-container {
    max-width: 90%;
    margin: 0 auto 2rem;
  }
}

/* --- GITHUB CALENDAR FIXES --- */
[data-bs-theme="dark"] .react-activity-calendar {
    /* Ensures the text labels (Mon, Tue, Jan, Feb) turn white */
    color: #ffffff !important; 
}

/* Change the container background in dark mode */
[data-bs-theme="dark"] .bg-white {
    background-color: #112240 !important; /* Navy */
    border-color: #233554 !important;     /* Lighter border */
}
